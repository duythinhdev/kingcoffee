<ion-header>
  <ion-navbar color="primary">
    <ion-title>
      <strong translate>Chat with</strong> {{conversation?.member?.name}}
    </ion-title>
  </ion-navbar>
</ion-header>
<ion-content class="mesgs animated fadeIn" #bottom>
  <div class="msg_history">
    <ion-list class="chat-list" no-lines>
      <ion-item *ngFor="let item of items" class="box-mess">
        <div class="incoming_msg" *ngIf="item.senderId !== currentUser._id">
          <div class="incoming_msg_img">
            <img [src]="item.sender?.avatarUrl">
          </div>
          <div class="received_msg">
            <p>{{item.text}}</p>
            <span class="time_date"> {{item.createdAt | date:'short'}}</span>
          </div>
          <span class="talk-q"></span>
        </div>
        <div class="outgoing_msg" *ngIf="item.senderId === currentUser._id">
          <div class="outgoing_msg_img">
            <img [src]="currentUser.avatarUrl">
          </div>
          <div class="sent_msg">
            <p>{{item.text}}</p>
            <span class="time_date"> {{item.createdAt | date:'short'}}</span>
          </div>
          <span class="talk-q"></span>
        </div>
      </ion-item>
    </ion-list>
  </div>
</ion-content>
<div class="type_msg">
  <div class="input_msg_write">
    <ion-textarea type="text" class="write_msg" placeholder="{{'Type a message...' | translate}}" [(ngModel)]="newText" (keyup.enter)="send()"></ion-textarea>
    <button ion-button class="msg_send_btn" (click)="send()">
      <ion-icon name="send"></ion-icon>
    </button>
  </div>
</div>